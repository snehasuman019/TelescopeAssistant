<!-- <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Telescope Assistant Chat</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                    colors: {
                        primary: {
                            light: '#4B6CB7',
                            DEFAULT: '#2B5797', 
                            dark: '#1D3C78',
                        },
                        secondary: {
                            light: '#8AB4FF',
                            DEFAULT: '#4B6CB7',
                            dark: '#343456',
                        }
                    }
                }
            }
        }
    </script>
    <style>
        /* Preserving the exact classes from original HTML */
        .message-container { display: flex; flex-direction: column; }
        .user-message { align-self: flex-end; margin-left: auto; border-bottom-right-radius: 5px; }
        .bot-message { align-self: flex-start; border-bottom-left-radius: 5px; }
        .error-message { color: red; font-weight: bold; }
    </style>
</head>
<body class="font-sans m-0 p-0 flex flex-col h-screen bg-gray-100 dark:bg-gray-900 transition-colors duration-300">
    <!-- Check for dark mode preference -->
<!--     <script>
        if ((!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
            document.documentElement.classList.add('dark')
        }
    </script>

    <!-- Main chat interface with card design -->
<!--     <div class="max-w-4xl w-full mx-auto my-auto h-[90vh] flex flex-col overflow-hidden rounded-xl shadow-xl bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700"> -->
        <!-- Header -->
<!--         <div class="bg-gradient-to-r from-primary-light to-primary p-4 text-white flex justify-between items-center shadow-md">
            <div class="flex items-center space-x-3">
                <i class="fa-solid fa-telescope text-2xl"></i>
                <h1 class="text-xl font-semibold">Telescope Assistant</h1>
            </div>
            <button id="theme-toggle" class="w-10 h-10 bg-white bg-opacity-20 rounded-full flex items-center justify-center hover:bg-opacity-30 transition-all duration-200">
                <i class="fa-solid fa-moon" id="theme-icon"></i>
            </button>
        </div> -->

        <!-- Chat area -->
<!--         <div id="chatbox" class="flex-grow overflow-y-auto p-5 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800">
            <!-- Initial welcome message -->
<!--             <div class="message-container">
                <div class="message bot-message max-w-[80%] bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-white p-3 mb-4 rounded-2xl rounded-bl-sm shadow-sm">
                    Hello! Ask me anything about astronomy or telescopes.
                </div>
            </div> -->
<!--         </div>
 -->
        <!-- Status area -->
<!--         <div id="status" class="text-center p-2 h-6 italic text-gray-500 dark:text-gray-400 bg-gray-50 dark:bg-gray-800"></div> -->

        <!-- Input area -->
<!--         <div id="input-area" class="flex p-4 border-t border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800">
            <input 
                type="text" 
                id="userInput" 
                placeholder="Type your message..." 
                class="flex-grow py-3 px-4 rounded-full border border-gray-300 dark:border-gray-600 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-200"
            >
            <button 
                id="sendButton"
                class="ml-3 px-6 py-3 bg-primary hover:bg-primary-dark text-white rounded-full transition-colors duration-200 flex items-center justify-center"
            >
                <span>Send</span>
                <i class="fa-solid fa-paper-plane ml-2"></i>
            </button>
        </div>
    </div> --> -->

    <!-- Add a script to handle dark mode toggle -->
<!--     <script> -->
<!--         // Wait for DOM to be ready
        document.addEventListener('DOMContentLoaded', function() {
            const themeToggle = document.getElementById('theme-toggle');
            const themeIcon = document.getElementById('theme-icon');
            
            // Set the initial icon state
            if (document.documentElement.classList.contains('dark')) {
                themeIcon.classList.remove('fa-moon');
                themeIcon.classList.add('fa-sun');
            }
            
            // Theme toggle functionality
            themeToggle.addEventListener('click', function() {
                document.documentElement.classList.toggle('dark');
                
                if (document.documentElement.classList.contains('dark')) {
                    localStorage.setItem('theme', 'dark');
                    themeIcon.classList.remove('fa-moon');
                    themeIcon.classList.add('fa-sun');
                } else {
                    localStorage.setItem('theme', 'light');
                    themeIcon.classList.remove('fa-sun');
                    themeIcon.classList.add('fa-moon');
                }
            });
        });
    </script>

    <script src="script.js"></script>
</body>
</html> --> 


<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Telescope Assistant Chat</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- Lucide icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <!-- Tailwind CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        // Tailwind Configuration
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                    colors: {
                        primary: {
                            light: '#4B6CB7',
                            DEFAULT: '#2B5797',
                            dark: '#1D3C78',
                        },
                        secondary: {
                            light: '#8AB4FF',
                            DEFAULT: '#4B6CB7',
                            dark: '#343456',
                        }
                    },
                    borderRadius: {
                        'xl': '0.75rem',
                        '2xl': '1rem',
                    }
                }
            }
        }
    </script>
    <style>
        /* Base styles */
        * {
            transition-property: color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter;
            transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
            transition-duration: 300ms;
        }

        /* Custom scrollbar for chatbox */
        #chatbox::-webkit-scrollbar {
            width: 8px;
        }

        #chatbox::-webkit-scrollbar-track {
            background: transparent;
        }

        #chatbox::-webkit-scrollbar-thumb {
            background-color: #d1d5db;
            border-radius: 9999px;
        }

        .dark #chatbox::-webkit-scrollbar-thumb {
            background-color: #4b5563;
        }
        

        /* Message container */
        .message-container {
            display: flex;
            flex-direction: column;
            margin-bottom: 1.5rem;
            animation: fadeIn 0.3s ease-in-out;
        }

        /* User message */
        .user-message {
            align-self: flex-end;
            margin-left: auto;
            border-bottom-right-radius: 0.25rem;
        }

        /* Bot message */
        .bot-message {
            align-self: flex-start;
            border-bottom-left-radius: 0.25rem;
        }

        /* Message fade-in animation */
        @keyframes fadeIn {
            0% { opacity: 0; transform: translateY(8px); }
            100% { opacity: 1; transform: translateY(0); }
        }

        /* Shadow variations */
        .shadow-message {
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
        }

        .dark .shadow-message-dark {
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.25);
        }

        /* Typing indicator */
        .typing-indicator {
            display: flex;
            align-items: center;
        }

        .typing-indicator span {
            height: 8px;
            width: 8px;
            margin: 0 1px;
            background-color: #8AB4FF;
            border-radius: 50%;
            display: inline-block;
            opacity: 0.7;
        }

        .dark .typing-indicator span {
            background-color: #4B6CB7;
        }

        .typing-indicator span:nth-child(1) {
            animation: bounce 1.2s infinite 0.1s;
        }

        .typing-indicator span:nth-child(2) {
            animation: bounce 1.2s infinite 0.3s;
        }

        .typing-indicator span:nth-child(3) {
            animation: bounce 1.2s infinite 0.5s;
        }

        @keyframes bounce {
            0%, 60%, 100% { transform: translateY(0); }
            30% { transform: translateY(-6px); }
        }

        /* Hide scrollbar but keep functionality */
        .scrollbar-hide {
            -ms-overflow-style: none;  /* IE and Edge */
            scrollbar-width: none;  /* Firefox */
        }

        .scrollbar-hide::-webkit-scrollbar {
            display: none;  /* Chrome, Safari and Opera */
        }
    </style>
</head>
<body class="font-sans m-0 p-0 flex flex-col h-screen bg-gray-100 dark:bg-gray-900 text-gray-800 dark:text-gray-200">
    <!-- Check for dark mode preference -->
    <script>
        if ((!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches) ||
            localStorage.theme === 'dark') {
            document.documentElement.classList.add('dark');
        } else {
            document.documentElement.classList.remove('dark');
        }
    </script>

    <!-- Main container with maximum width and centered -->
    <div class="max-w-4xl w-full mx-auto p-4 flex flex-col h-screen md:h-[90vh] md:my-auto">
        <div class="w-full h-full flex flex-col overflow-hidden rounded-2xl shadow-xl bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700">
            
            <!-- Header with gradient background -->
            <div class="bg-gradient-to-r from-primary to-primary-light p-4 text-white flex justify-between items-center shadow-md">
                <div class="flex items-center space-x-3">
                    <div class="h-10 w-10 rounded-full bg-white bg-opacity-20 flex items-center justify-center">
                        <i data-lucide="telescope" class="h-5 w-5"></i>
                    </div>
                    <div>
                        <h1 class="text-xl font-semibold">Telescope Assistant</h1>
                        <p class="text-xs text-white text-opacity-90">By Sneha Suman.</p>
                    </div>
                </div>
                
                <!-- Theme Toggle Button -->
                <button 
                    id="theme-toggle" 
                    aria-label="Toggle dark mode" 
                    class="w-10 h-10 bg-white bg-opacity-20 rounded-full flex items-center justify-center hover:bg-opacity-30 focus:outline-none focus:ring-2 focus:ring-white focus:ring-opacity-50 transition-all duration-200"
                >
                    <i data-lucide="moon" id="moon-icon" class="h-5 w-5 text-white"></i>
                    <i data-lucide="sun" id="sun-icon" class="h-5 w-5 text-white hidden"></i>
                </button>
            </div>
            
            <!-- Chat messages area -->
            <div 
                id="chatbox" 
                class="flex-grow overflow-y-auto p-5 bg-gray-50 dark:bg-gray-800 space-y-6 scroll-smooth"
            >
                <!-- Welcome message (bot) -->
                <div class="message-container">
                    <div class="flex items-start space-x-2">
                        <div class="h-9 w-9 rounded-full bg-primary flex items-center justify-center text-white flex-shrink-0 shadow-md">
                            <i data-lucide="bot" class="h-5 w-5"></i>
                        </div>
                        <div class="message bot-message max-w-[80%] bg-white dark:bg-gray-700 p-4 rounded-2xl rounded-tl-sm shadow-message dark:shadow-message-dark">
                            <p class="text-gray-800 dark:text-white whitespace-pre-wrap leading-relaxed">Hello! I'm your Telescope Assistant. How can I help you with astronomy today?
                            </p>
                        </div>
                    </div>
                    <div class="text-xs text-gray-500 dark:text-gray-400 ml-11 mt-1">
                        Telescope Assistant
                    </div>
                </div>
            </div>
            
            <!-- Status area -->
            <div 
                id="status" 
                class="text-center py-2 h-8 text-sm italic text-gray-500 dark:text-gray-400 bg-gray-50 dark:bg-gray-800 border-t border-gray-100 dark:border-gray-700"
            >
                <!-- Status message appears here when typing -->
            </div>
            
            <!-- Footer with credit - hidden on mobile -->
            <div class="hidden md:block absolute bottom-6 right-6 text-xs text-gray-400 dark:text-gray-500">
                Created by Sneha Suman.
            </div>
            
            <!-- Input area -->
            <div class="flex flex-col px-4 pt-2 pb-4 border-t border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800">
                <!-- Suggestions -->
                <div id="suggestions" class="flex overflow-x-auto pb-2 space-x-2 mb-2 scrollbar-hide">
                    <button 
                        class="suggestion-btn px-3 py-1.5 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 
                              rounded-full text-sm text-gray-700 dark:text-gray-300 whitespace-nowrap
                              transition-colors duration-200 flex items-center flex-shrink-0"
                        data-text="What telescope should I buy?"
                    >
                        <i data-lucide="sparkles" class="h-3 w-3 mr-1.5 text-primary-light"></i>
                        What telescope should I buy?
                    </button>
                    <button 
                        class="suggestion-btn px-3 py-1.5 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 
                              rounded-full text-sm text-gray-700 dark:text-gray-300 whitespace-nowrap
                              transition-colors duration-200 flex items-center flex-shrink-0"
                        data-text="Tell me about Jupiter"
                    >
                        <i data-lucide="sparkles" class="h-3 w-3 mr-1.5 text-primary-light"></i>
                        Tell me about Jupiter
                    </button>
                    <button 
                        class="suggestion-btn px-3 py-1.5 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 
                              rounded-full text-sm text-gray-700 dark:text-gray-300 whitespace-nowrap
                              transition-colors duration-200 flex items-center flex-shrink-0"
                        data-text="How to find constellations?"
                    >
                        <i data-lucide="sparkles" class="h-3 w-3 mr-1.5 text-primary-light"></i>
                        How to find constellations?
                    </button>
                </div>
                
                <!-- Input field and send button -->
                <div id="input-area" class="flex w-full">
                    <div class="relative flex-grow">
                        <input 
                            type="text" 
                            id="userInput"
                            placeholder="Type your message..." 
                            class="w-full py-3.5 px-5 rounded-full border border-gray-300 dark:border-gray-600 
                                focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent 
                                bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-200 
                                placeholder-gray-500 dark:placeholder-gray-400 shadow-sm"
                        >
                    </div>
                    <button 
                        id="sendButton"
                        class="ml-3 px-4 py-3.5 bg-primary hover:bg-primary-dark text-white rounded-full 
                            transition-colors duration-200 flex items-center justify-center 
                            focus:outline-none focus:ring-2 focus:ring-primary-light focus:ring-opacity-50 
                            disabled:opacity-60 shadow-sm"
                        aria-label="Send message"
                    >
                        <i data-lucide="send" class="h-5 w-5"></i>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- JavaScript for the chat functionality -->
    <script>
        // Create a timestamp formatter
        function formatTimestamp() {
            const now = new Date();
            return now.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
        }

        // Initialize Lucide icons
        document.addEventListener('DOMContentLoaded', () => {
            lucide.createIcons();
            
            // DOM Elements
            const chatbox = document.getElementById('chatbox');
            const userInput = document.getElementById('userInput');
            const sendButton = document.getElementById('sendButton');
            const statusDiv = document.getElementById('status');
            const themeToggle = document.getElementById('theme-toggle');
            const moonIcon = document.getElementById('moon-icon');
            const sunIcon = document.getElementById('sun-icon');
            const suggestionButtons = document.querySelectorAll('.suggestion-btn');
            
            // Set initial theme icon
            if (document.documentElement.classList.contains('dark')) {
                moonIcon.classList.add('hidden');
                sunIcon.classList.remove('hidden');
            }
            
            // Focus the input field on page load
            userInput.focus();
            
            // Theme toggle functionality
            themeToggle.addEventListener('click', () => {
                document.documentElement.classList.toggle('dark');
                
                if (document.documentElement.classList.contains('dark')) {
                    localStorage.setItem('theme', 'dark');
                    moonIcon.classList.add('hidden');
                    sunIcon.classList.remove('hidden');
                } else {
                    localStorage.setItem('theme', 'light');
                    sunIcon.classList.add('hidden');
                    moonIcon.classList.remove('hidden');
                }
            });
            
            // Function to add a message to the chat
            function addMessage(message, isUser) {
                const timestamp = formatTimestamp();
                const messageContainer = document.createElement('div');
                messageContainer.className = 'message-container';
                
                if (isUser) {
                    // User message
                    messageContainer.innerHTML = `
                        <div class="flex items-start justify-end space-x-2">
                            <div class="message user-message max-w-[80%] bg-primary text-white p-4 rounded-2xl rounded-tr-sm shadow-message">
                                <p class="whitespace-pre-wrap">${message}</p>
                            </div>
                            <div class="h-9 w-9 rounded-full bg-gray-300 dark:bg-gray-600 flex items-center justify-center text-gray-600 dark:text-gray-300 flex-shrink-0 shadow-md">
                                <i data-lucide="user" class="h-5 w-5"></i>
                            </div>
                        </div>
                        <div class="text-xs text-gray-500 dark:text-gray-400 mr-11 mt-1 text-right">
                            You • ${timestamp}
                        </div>
                    `;
                } else {
                    // Bot message
                    messageContainer.innerHTML = `
                        <div class="flex items-start space-x-2">
                            <div class="h-9 w-9 rounded-full bg-primary flex items-center justify-center text-white flex-shrink-0 shadow-md">
                                <i data-lucide="bot" class="h-5 w-5"></i>
                            </div>
                            <div class="message bot-message max-w-[80%] bg-white dark:bg-gray-700 p-4 rounded-2xl rounded-tl-sm shadow-message dark:shadow-message-dark">
                                <p class="text-gray-800 dark:text-white whitespace-pre-wrap leading-relaxed">${message}</p>
                            </div>
                        </div>
                        <div class="text-xs text-gray-500 dark:text-gray-400 ml-11 mt-1">
                            Telescope Assistant • ${timestamp}
                        </div>
                    `;
                }
                
                chatbox.appendChild(messageContainer);
                // Initialize Lucide icons for the new message
                lucide.createIcons({
                    attrs: {
                        class: 'h-5 w-5'
                    },
                    element: messageContainer
                });
                
                // Scroll to bottom
                chatbox.scrollTop = chatbox.scrollHeight;
            }
            
            // Function to show typing indicator
            function showTypingIndicator() {
                // Show "Bot is typing" status
                statusDiv.innerHTML = `
                    <div class="flex items-center justify-center space-x-2">
                        <div class="h-2 w-2 rounded-full bg-primary animate-pulse"></div>
                        <span>Telescope Assistant is typing...</span>
                    </div>
                `;
                
                // Add typing indicator to chat
                const typingIndicator = document.createElement('div');
                typingIndicator.id = 'typing-indicator-container';
                typingIndicator.className = 'message-container';
                typingIndicator.innerHTML = `
                    <div class="flex items-start space-x-2">
                        <div class="h-9 w-9 rounded-full bg-primary flex items-center justify-center text-white flex-shrink-0 shadow-md">
                            <i data-lucide="bot" class="h-5 w-5"></i>
                        </div>
                        <div class="message bot-message bg-white dark:bg-gray-700 p-4 rounded-2xl rounded-tl-sm shadow-message dark:shadow-message-dark">
                            <div class="typing-indicator">
                                <span></span>
                                <span></span>
                                <span></span>
                            </div>
                        </div>
                    </div>
                `;
                
                chatbox.appendChild(typingIndicator);
                
                // Initialize Lucide icons for the typing indicator
                lucide.createIcons({
                    attrs: {
                        class: 'h-5 w-5'
                    },
                    element: typingIndicator
                });
                
                // Scroll to bottom
                chatbox.scrollTop = chatbox.scrollHeight;
            }
            
            // Function to hide typing indicator
            function hideTypingIndicator() {
                statusDiv.innerHTML = '';
                const typingIndicator = document.getElementById('typing-indicator-container');
                if (typingIndicator) {
                    typingIndicator.remove();
                }
            }
            
            // Generate a bot response based on user input
            function generateBotResponse(userMessage) {
                // Simulate typing delay
                showTypingIndicator();
                
                // List of astronomy-related responses
                const responses = [
                    `That's an interesting question about astronomy! The universe is vast and full of wonders.`,
                    `Telescopes are amazing tools for exploring the night sky. They collect and focus light to help us see distant objects.`,
                    `Stars are massive balls of gas that produce light and heat through nuclear fusion. Our sun is a star!`,
                    `The planets in our solar system (in order from the Sun) are: Mercury, Venus, Earth, Mars, Jupiter, Saturn, Uranus, and Neptune.`,
                    `The Milky Way is our home galaxy, containing billions of stars, including our Sun.`,
                    `Light from the nearest star, Proxima Centauri, takes about 4.3 years to reach Earth!`,
                    `Constellations are patterns of stars that have been named after objects, animals, or mythological characters.`,
                    `For beginners, I'd recommend a 6-inch or 8-inch Dobsonian telescope. They offer good aperture at an affordable price point.`,
                    `Jupiter is the largest planet in our solar system. Its most famous feature is the Great Red Spot, a storm that has been raging for hundreds of years.`
                ];
                
                // Choose a random response
                const randomIndex = Math.floor(Math.random() * responses.length);
                const response = responses[randomIndex];
                
                // Simulate network delay
                setTimeout(() => {
                    hideTypingIndicator();
                    addMessage(response, false);
                }, 1500);
            }
            
            // Send button click handler
            sendButton.addEventListener('click', () => {
                const message = userInput.value.trim();
                if (message) {
                    // Add user message to chat
                    addMessage(message, true);
                    
                    // Clear input field
                    userInput.value = '';
                    
                    // Generate response
                    generateBotResponse(message);
                }
            });
            
            // Enter key press handler
            userInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    sendButton.click();
                }
            });
            
            // Suggestion button click handlers
            suggestionButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const suggestionText = button.getAttribute('data-text');
                    userInput.value = suggestionText;
                    sendButton.click();
                });
            });
        });
    </script>
</body>
</html>
